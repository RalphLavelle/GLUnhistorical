<div class="place-detail-container">
  <!-- Loading State -->
  @if (loading()) {
    <div class="loading-message">
      <p>Loading place details...</p>
    </div>
  }

  <!-- Error State -->
  @if (error(); as errorMessage) {
    <div class="error-message">
      <p>{{ errorMessage }}</p>
      <a routerLink="/places" class="btn btn-primary">Back to All Places</a>
    </div>
  }

  <!-- Place Details -->
  @if (place(); as currentPlace) {
    <article class="place-detail">
      <!-- Header Section -->
      <header class="place-header">
        <nav class="breadcrumb">
          <a routerLink="/">Home</a>
          <span>/</span>
          <a routerLink="/places">Places</a>
          <span>/</span>
          <span>{{ currentPlace.name }}</span>
        </nav>
        
        <h1>{{ currentPlace.name }}</h1>
        <div class="place-meta">
          <span class="category-badge">{{ currentPlace.category | titlecase }}</span>
          <span class="address">{{ currentPlace.address }}</span>
        </div>
      </header>

      <!-- Main Content -->
      <div class="place-content-grid">
        <!-- Image and Description Section -->
        <div class="place-main">
          <div class="place-image-container">
            <app-responsive-image 
              [placeId]="currentPlace.id" 
              [altText]="currentPlace.name"
              [cssClass]="'place-image'">
            </app-responsive-image>
          </div>
          
          <div class="place-description">
            <h2>About This Place</h2>
            <p>{{ currentPlace.description }}</p>
          </div>
        </div>

        <!-- Map Section -->
        <aside class="place-map-section">
          <h2>Location</h2>
          <div class="map-container">
            <google-map
              [options]="mapOptions"
              [center]="mapCenter()"
              [width]="'100%'"
              [height]="'400px'">
              @if (marker(); as markerOptions) {
                <map-marker [options]="markerOptions"></map-marker>
              }
            </google-map>
          </div>
          
          <div class="coordinates">
            <p><strong>Coordinates:</strong></p>
            <p>{{ currentPlace.latitude }}, {{ currentPlace.longitude }}</p>
          </div>
        </aside>
      </div>

      <!-- Navigation -->
      <nav class="place-navigation">
        <a routerLink="/places" class="btn btn-secondary">‚Üê Back to All Places</a>
        <a routerLink="/" class="btn btn-primary">Home</a>
      </nav>
    </article>
  }
</div>
