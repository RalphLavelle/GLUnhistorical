<div class="place-detail-container">
  <!-- Loading State -->
  @if (loading()) {
    <div class="loading-message">
      <p>Loading place details...</p>
    </div>
  }

  <!-- Error State -->
  @if (error(); as errorMessage) {
    <div class="error-message">
      <p>{{ errorMessage }}</p>
      <a routerLink="/places" class="btn btn-primary">Back to All Places</a>
    </div>
  }

  <!-- Place Details -->
  @if (place(); as currentPlace) {
    <article class="place-detail">
      <!-- Header Section -->
      <header class="place-header">
        <h1>{{ currentPlace.name }}</h1>
        <div class="place-meta">
          <span class="category-badge">{{ currentPlace.category | titlecase }}</span>
          <span class="address">{{ currentPlace.address }}</span>
        </div>
      </header>

      <!-- Main Content -->
      <!-- Image Section -->
      <div class="place-main">
        <div class="place-image-container">
          <app-responsive-image 
            [placeId]="currentPlace.id" 
            [altText]="currentPlace.name"
            [cssClass]="'place-image'">
          </app-responsive-image>
        </div>
        
        <div class="place-description">
          <h2>About This Place</h2>
          <p>{{ currentPlace.description }}</p>
        </div>
      </div>

      <!-- Map Section -->
      <div class="place-map-section">
        <h2>Location</h2>
        <div class="map-container">
          <google-map
            [options]="mapOptions"
            [center]="mapCenter()"
            [width]="'100%'"
            [height]="'400px'">
            @if (marker(); as markerOptions) {
              <map-marker [options]="markerOptions"></map-marker>
            }
          </google-map>
        </div>
      </div>

      <!-- Navigation -->
      <nav class="place-navigation">
        <a routerLink="/places" class="btn btn-secondary">‚Üê Back to All Places</a>
        <a routerLink="/book-tour" class="btn btn-primary">Book a Tour</a>
      </nav>
    </article>
  }
</div>
